# ch05
# 반복문 사용하기_숫자 야구 게임
## 무작위로 숫자 뽑기
- 숫자야구를 하기 위해서는 먼저 네 개의 숫자를 저장할 자리를 마련하고
- 무작위로 숫자를 하나씩 뽑아 저장하는 절차를 네 번 반복해야 한다
- 여기서 중요한 것은 **무작위로 뽑지만, 중복 되지 않게 뽑아야 한다**는 점이다.

### Math.random()
- 무작위 숫자를 생성하는 함수
- 0 이상 1 미만의 수를 무작위로 생성
- 숫자야구 게임에서는 1에서 9까지의 숫자가 필요하다
- 따라서 Math.random()에 9를 곱한 후 1을 더하면 된다
- 그러면 1 이상 10 미만의 수가 만들어 지지만 이 수는 자연수가 아닌 실수 이기 때문에 사용 할 수 없다
- 이 경우에 자연수로 만들려면 내림, 올림, 반올림을 해야한다
- 이 경우에서는 내림한다
  - 내림은 `Math.floor()`로 바닥을 일컷는 `floor`를 사용
  - 올림은 `Math.ceil()`로 천장, 올림을 뜻함
  - 반올림은 `Math.round()`로 반올림

**하지만 Math.random()은 암호학 적으로 완전한 무작위가 아니다**
  - 따라서 보안과 관련된 작업(비밀번호를 생성하거나)을 할 때는 Math.random()으로 생성된 수를 사용하면 위험하다
  - 이를 위한 `window.crypto.getRandomValues()` 함수가 따로 존재

### `preventDefault();`
- 폼 태그의 기본 동작을 취소하는 코드
- 폼 태그는 submit 이벤트가 발생할 때 기본으로 브라우저를 새로고침하는데 숫자야구 게임 중 새로고침 되면
- 모든 데이터들이 초기화 되기 떄문에 반드시 막아야한다.

### `Set`
- `Set` 은 중복을 허용하지 않는 특수한 배열
- `new` 는 예약어 이다
- `new Set('1231');`
  - 위 코드를 실행하면 `Set` 내부에는 1, 2, 3만 들어간다
  - 이를 통해 `Set` 요소 개수를 세면 중복된 값이 있는지 아닌지를 검사할 수 있다.
- `Set`의 요소 개수를 구할 때는 `length` 가 아닌 `size`를 사용한다.

### HTML5의 검증 기능 활용하기
- 여기서는 입력값을 자바스크립트로 검사하지만, HTML 자체에서도 입력값 검사 기능을 제공함
- 브라우저에서 JS code를 실행하지 않는 경우도 있으므로 (사용자가 브라우저 환경 설정에서 JS code를 실행하지 않게 설정가능) HTML로도 검사해 보는 것이 좋다

ex)<br>
` <input`<br>
`   required`<br>
`   type="text"`<br>
`   id="input"`<br>
`   minlength="4" maxlength="4" pattern="^(?!.*.(.).*\1)\d{4}$">`<br>

`^(?!.*.(.).*\1)\d{4}$` : 정규 표현식 => 주로 회원가입 등에 사용이 된다.
- 위 정규 표현식은 중복되지 않은 4자리 숫자를 의미

- `required` 는 입력값이 필수라는 의미
- `type="text"`는 입력값이 문자열로 인식된다는 뜻
- `minlength`와 `maxlength`는 각각 입력값의 최소 길이와 최대 길이를 의미
- `pattern` => 정규표현식(regular expression)으로 입력값을 검사하는 기능이다.

- `arr.join()` => arr의 각 값을 문자열로 합쳐준다.

### indexOf 와 includes
- `indexOf` 와 `includes`는 배열이나 문자열에 원하는 값이 들어 있는지 찾는 메소드
- `indexOf` 는 배열의 처음부터 끝까지 검색하며 처음 으로 찾는 값을 찾을 때 까지 검색하여
  값이 존재하면 해당 값이 있는 인덱스를 반환하고 없다면 -1 을 반환한다
- `includes` 는 배열에 해당 값이 있는지 검색하며 있다면 `true` 없다면 `false`를 반환한다.

### forEach 와 map
- `forEach`는 반복문 효과를 내는 배열의 메서드이다.
- 인수로 함수를 넣고, 이 함수가 각각의 배열 요소들에 순서대로 적용되는 구조이다
- `map` 또한 반복문 역할을 하지만 반환값이 있다는 점에서 `forEach`와 다르다.
- `map`은 기존 배열의 요소를 일대일로 다른 값으로 바꾼다.
- 단, 기존 배열의 값이 바뀌는 것이 아니라 새로운 배열을 만든다.

### document.createElement, document.createTextNode
- 각각 태그와 텍스트를 만드는 메서드 이다.
- 단, 다른 태그에 `append`나 `appendChild` 하기 전까지는 화면에 보이지 않는다.

### appendChild와 append
- `document.createElement`, `document.createTextNode`로 만든 태그나 텍스트를 선택한 태그의 자식 태그로 넣는다
- `appendChild`로는 하나만 넣을 수 있고, `append`를 사용하면 여러개를 동시에 넣을 수 있다.
- `append`로 텍스트를 추가할 때는 `document.createTextNode` 대신 문자열을 바로 넣어도 된다.